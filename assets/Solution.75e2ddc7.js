import{l as f,o,d as n,g as s,t as c,F as m,e as x,n as y,f as g}from"./index.25e5712f.js";import{_ as b}from"./plugin-vue_export-helper.21dcd24c.js";const w={data(){return{solution:[],loading:!1,unknown:!1,download:""}},methods:{downloadQuestion(){window.open(this.download,"_blank")},endalert(){this.$swal({icon:"warning",title:"Will be available after the time ends"})},getQuestionLink(){fetch(`${f}?type=examlist&id=${this.$route.params.id}`).then(l=>l.json()).then(l=>{this.url="https://script.google.com/macros/s/AKfycbzOBSdG0T8p7OIhwx8FSVELW8OwReJ-hS-HBS09FT3abMJR6MEeUyGFjItGBoVJYLDCkQ/exec?sheet="+l.exam.exam.substr(39,44),this.download=`https://drive.google.com/uc?id=${l.exam.pdfsolve.substr(32,33)}&export=download`;let h=JSON.parse(localStorage.getItem("math_24_cycle")).ttrx;fetch(this.url+"&type=check&phone="+h).then(i=>i.json()).then(i=>{i.message=="exists"||new Date(l.exam.end_time).getTime()<Date.now()?(fetch(this.url+"&type=question").then(r=>r.json()).then(r=>{r=r.map(t=>(t.question.includes("https://drive.google.com/file/d/")&&(t.question=t.question.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80),t.a="A",t.b="B",t.c="C",t.d="D"),t)),fetch(this.url).then(t=>t.json()).then(t=>{let _=r.map((e,d)=>(e.total_ans=0,e.t_0=0,e.t_1=0,e.t_2=0,e.t_3=0,t.forEach(a=>{JSON.parse(a.submission).forEach(u=>{d==u.id&&(e[`t_${u.s}`]++,e.total_ans++)})}),e.per_a=e.t_0/e.total_ans*100||0,e.per_b=e.t_1/e.total_ans*100||0,e.per_c=e.t_2/e.total_ans*100||0,e.per_d=e.t_3/e.total_ans*100||0,e));this.solution=_})}),this.loading=!1):(this.$router.push("/"),this.unknown=!0)})})}},created(){this.getQuestionLink()}},v={key:0},k={key:0,class:"pb-10"},L={class:"py-4 text-center"},$={class:"text-2xl font-bold text-gray-800 poppins"},S={class:"mx-2 md:w-2/3 md:mx-auto print:text-black",ref:"content"},T=["src"],M=["innerHTML"],j={class:"mt-3 space-y-2"},B=["innerHTML"],E={class:"text-sm print:hidden"},H={class:"print:hidden"},C={key:2,class:"my-2 poppins"},D=["innerHTML"],F={key:1},J=s("h2",{class:"mt-10 text-2xl text-center"}," You must participate in the exam or you will not be able to view this solution untill time ends. ",-1),O=[J],I={key:1,class:"flex items-center justify-center w-full h-screen"},N=s("div",{class:"flex items-center justify-center -mt-24 space-x-1 text-sm text-gray-700"},[s("svg",{fill:"none",class:"w-10 h-10 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"clip-rule":"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor","fill-rule":"evenodd"})]),s("div",{class:"text-lg"},"Loading ...")],-1),Q=[N];function R(l,h,i,r,t,_){return t.solution.length>0?(o(),n("div",v,[t.unknown?(o(),n("div",F,O)):(o(),n("div",k,[s("div",L,[s("h1",$," Solution for Exam - "+c(this.$route.params.id),1)]),s("div",S,[(o(!0),n(m,null,x(t.solution,(e,d)=>(o(),n("div",{key:d,class:"p-5 mx-auto my-3 text-lg border border-gray-300 rounded-md shadow-lg print:border-none print:shadow-none print:p-1 bg-gray-50 kalpurush"},[e.question.includes("drive.google.com")?(o(),n("img",{key:0,src:e.question,class:"object-contain w-full py-3",alt:""},null,8,T)):(o(),n("div",{key:1,class:"inline-flex print:text-black",innerHTML:`<span class='mr-2'>${d+1})</span>`+e.question},null,8,M)),s("div",j,[(o(),n(m,null,x(["a","b","c","d"],(a,p)=>s("div",{key:p,class:y(["flex flex-col p-3 rounded shadow",{" bg-green-300 print:border-gray-900":e[a]==e.correct}])},[s("div",{innerHTML:e[a]},null,8,B),s("div",E,"Response: "+c(e[`t_${p}`])+" ("+c(parseInt(e[`per_${a}`]))+"%) ",1)],2)),64)),s("p",H,"Total Response: "+c(e.total_ans),1)]),e.explain?(o(),n("h2",C,"Explain:")):g("",!0),e.explain?(o(),n("div",{key:3,class:"p-3 my-3 bg-gray-200 border border-green-500 rounded print:text-black",innerHTML:e.explain},null,8,D)):g("",!0)]))),128))],512)]))])):(o(),n("div",I,Q))}var A=b(w,[["render",R]]);export{A as default};
