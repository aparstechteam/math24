import"./lodash.782331e0.js";import"./axios.f963bda4.js";import{D as h,L as _,j as l,k as a,l as t,m as r,z as m,J as g,F as p,x as b,E as x,M as f,N as v}from"./index.c8b918c5.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";const w={data(){return{search:"",testResults:[],allresult:[],results:[],available:!0}},methods:{modeltestResults(){h.get(`/leaderboard/${this.$route.params.id}`).then(e=>{this.testResults=e.data.rankings,this.allresult=e.data.rankings,setTimeout(()=>{location.hash=`#${this.user.roll}`},1e3)}).catch(e=>{this.available=!1})},millisToMinutesAndSeconds(e){var o=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return o+":"+(n<10?"0":"")+n},searchResult(){this.testResults=this.allresult.filter(e=>{if(e.name.toLowerCase().includes(this.search.toLowerCase())||e.college.toLowerCase().includes(this.search.toLowerCase()))return e})},getStyle(e){return e==1?"success":e==2?"orange darken-2":e==3?"indigo":""},getborderStyle(e){let o={1:"s singleResult mb-2",2:"f singleResult mb-2",3:"d singleResult mb-2"};return o[e]?o[e]:"singleResult mb-2"}},created(){this.modeltestResults(),window.scrollTo(0,0)},computed:{user(){return _.state.user}}},c=e=>(f("data-v-7b7e1ba9"),e=e(),v(),e),R={class:"leaderboard"},k={class:"my-4 text-3xl font-bold text-center text-gray-900 dark:text-white"},L={class:"p-5 mx-1 rounded md:w-1/2 md:mx-auto bg-gray-50"},S={class:"form-control"},C={class:"mt-4"},M={key:0},T=["id"],D={class:"flex items-center justify-center w-10 h-10 font-semibold text-white rounded-full bg-gradient-to-t from-indigo-400 to-indigo-600"},I={class:"flex-1 ml-2 text-gray-900 md:ml-4"},j={class:"text-lg font-semibold"},A={class:"text-sm text-gray-500"},B={class:"p-2 text-gray-900 border-2 border-blue-400"},F={key:1,class:"text-center"},N=c(()=>t("h1",{class:"text-2xl font-bold text-red-500"},"Leaderboard not available",-1)),z=[N],E={key:2,class:"text-center"},V=c(()=>t("h1",{class:"text-2xl font-bold text-red-500"},"Loading...",-1)),J=[V];function K(e,o,n,Q,i,d){return l(),a("div",R,[t("div",null,[t("h1",k,"MCQ Leaderboard-"+r(this.$route.params.id),1),t("div",L,[t("div",S,[m(t("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>i.search=s),placeholder:"Search by Name/College",onKeyup:o[1]||(o[1]=(...s)=>d.searchResult&&d.searchResult(...s)),class:"input input-primary input-bordered"},null,544),[[g,i.search]])]),t("div",C,[i.allresult.length>0?(l(),a("div",M,[(l(!0),a(p,null,b(i.testResults,(s,u)=>(l(),a("div",{key:u,id:s.reg,class:x(`${d.getborderStyle(s.position)} flex justify-between items-center p-5   rounded  shadow-md ${s.reg==d.user.roll?"bg-green-200":""}`),style:{"scroll-margin":"100px"}},[t("span",D,r(s.position),1),t("div",I,[t("h2",j,r(s.name),1),t("p",null,r(s.college),1),t("p",A," Attempt: "+r(s.attempt)+" Duration: "+r(d.millisToMinutesAndSeconds(s.duration))+" minutes ",1)]),t("div",B,r(s.score),1)],10,T))),128))])):i.available?(l(),a("div",E,J)):(l(),a("div",F,z))])])])])}var O=y(w,[["render",K],["__scopeId","data-v-7b7e1ba9"]]);export{O as default};
