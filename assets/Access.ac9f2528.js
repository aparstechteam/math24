import{r as i,s as d,I as p,j as _,k as v,l as e,z as a,A as h,J as m,K as y}from"./index.247793cd.js";const g={class:"grid place-items-center min-h-[70vh]"},x={class:"w-full max-w-md"},f=e("h1",{class:"text-2xl font-semibold text-center title"},"Get Access",-1),I={class:"form-control"},b=e("label",{for:"groupJoiningId",class:"label"},"Select Cycle",-1),J=y('<option value="1">Cycle 1</option><option value="2">Cycle 2</option><option value="3">Cycle 3</option><option value="4">Cycle 4</option><option value="5">Cycle 5</option>',5),C=[J],A={class:"form-control"},j=e("label",{for:"groupJoiningId",class:"label"},"Group Access ID",-1),D=e("span",null,"Get Access",-1),G=[D],k={setup(M){const o=i(""),r=d(),n=p(),l=i(n.query.cycle),u=()=>{fetch(`https://script.google.com/macros/s/AKfycbxs7r7J8ZlMjNJoP6qJkYOhXUjO2_tiZ-b05lK_jE92J2Fi09x2xCKMm4exSpP4VlM0/exec?tran_id=${o.value}`).then(t=>t.json()).then(t=>{t.status==200&&t.tranx.status=="VALID"&&t.tranx.ProductName=="Math24"&&t.tranx.Product.Cycle==`Cycle-${n.query.cycle}`?(localStorage.setItem(`math_24_cycle_${l.value}`,o.value),r.go(-1)):alert("Invalid Group Joining ID")}).catch(t=>alert("Invalid Group Joining ID"))};return(t,s)=>(_(),v("div",g,[e("div",x,[f,e("div",I,[b,a(e("select",{class:"select select-bordered","onUpdate:modelValue":s[0]||(s[0]=c=>l.value=c)},C,512),[[h,l.value]])]),e("div",A,[j,a(e("input",{type:"text",placeholder:"Group joining ID for specific cycle",class:"input input-bordered",id:"groupJoiningId","onUpdate:modelValue":s[1]||(s[1]=c=>o.value=c)},null,512),[[m,o.value]])]),e("button",{class:"mt-4 btn btn-primary",onClick:u},G)])]))}};export{k as default};
